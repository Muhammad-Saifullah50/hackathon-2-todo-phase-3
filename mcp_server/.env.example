# MCP Server Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# REQUIRED - Database Configuration
# ============================================================================
# PostgreSQL database URL for asyncpg
# Format: postgresql://user:password@host:port/database
# For Neon: Use the "Connection pooling" URL from your Neon dashboard
DATABASE_URL=postgresql://user:password@host:port/database

# ============================================================================
# OPTIONAL - CORS Configuration
# ============================================================================
# Frontend URL for CORS (comma-separated for multiple origins)
# In production, set this to your deployed frontend domain
# Default: http://localhost:3000
FRONTEND_URL=http://localhost:3000

# ============================================================================
# OPTIONAL - Host Validation (Security)
# ============================================================================
# Allowed hosts for the MCP server (comma-separated)
# Example: ALLOWED_HOSTS=your-mcp-server.vercel.app,your-custom-domain.com
# If not set, defaults to localhost (development mode)
ALLOWED_HOSTS=

# ============================================================================
# OPTIONAL - Database Connection Pool Configuration
# ============================================================================
# These are optimized for serverless environments
# Only change if you have specific requirements

# Minimum number of connections in the pool (default: 1)
DB_POOL_MIN_SIZE=1

# Maximum number of connections in the pool (default: 5)
# Keep this low for serverless to avoid overwhelming the database
DB_POOL_MAX_SIZE=5

# Command timeout in seconds (default: 60)
# Queries will be cancelled after this timeout
DB_POOL_TIMEOUT=60

# Maximum lifetime for inactive connections in seconds (default: 300)
# Inactive connections will be closed after this time
DB_POOL_MAX_INACTIVE_LIFETIME=300

# ============================================================================
# OPTIONAL - Rate Limiting (Future Enhancement)
# ============================================================================
# Rate limit per IP address (requests per minute)
# RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# DEVELOPMENT - Local Testing
# ============================================================================
# For local development, you can use:
# DATABASE_URL=postgresql://localhost:5432/todo_db
# FRONTEND_URL=http://localhost:3000
# ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================================
# PRODUCTION - Vercel Deployment
# ============================================================================
# 1. Add DATABASE_URL in Vercel dashboard (Project Settings > Environment Variables)
# 2. Set ALLOWED_HOSTS to your Vercel deployment URL
#    Example: ALLOWED_HOSTS=your-mcp-server.vercel.app
# 3. Set FRONTEND_URL to your frontend deployment URL
#    Example: FRONTEND_URL=https://your-frontend.vercel.app
# 4. Keep connection pool settings at defaults unless you have specific needs
